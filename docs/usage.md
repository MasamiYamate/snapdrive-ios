# 使い方ガイド

## ワークフロー概要

SnapDriveでのテストは以下の流れで行います:

1. **テストシナリオを作成** - Claudeに自然言語で指示、Baselineも同時に取得
2. **リポジトリにコミット** - シナリオとBaselineをチームで共有
3. **差分検証** - 以後の実行でBaselineとの差分を検出

## Step 1: テストシナリオの作成

Claudeに自然言語でテストしたい内容を伝えるだけで、シナリオ作成からBaseline取得まで自動で行います。

### シンプルな指示でOK

```
LoginViewControllerの画面をテストしたい。
「login-screen」という名前でテストケースを作成して。
```

Claudeが自動で:
1. アプリを起動して画面を探索
2. 指定されたViewを見つけてシナリオを構築
3. checkpointを設定してBaselineを取得
4. `.snapdrive/test-cases/login-screen/`に保存

### 詳細な指示も可能

```
ログイン機能のテストケースを「login-flow」という名前で作成して。
1. アプリを起動
2. ログインボタンをタップ
3. メールアドレスに "test@example.com" を入力
4. パスワードに "password123" を入力
5. 送信ボタンをタップ
6. ホーム画面が表示されることを確認してスクリーンショットを撮る
```

## Step 2: リポジトリにコミット

作成されたテストケースとBaselineをGitにコミットします:

```bash
git add .snapdrive/
git commit -m "Add login-flow test case with baselines"
```

Baselineをリポジトリに含めることで、チーム全体で同じ基準でUIを検証できます。

## Step 3: 差分検証

コード変更後、テストを実行してUIの差分を検出します:

```
login-flowテストケースを実行して
```

Baselineと現在の画面を比較し、差分があればHTMLレポートで確認できます。

### Baselineの更新

意図的なUI変更の場合は、Baselineを更新します:

```
login-flowテストケースを実行してbaselineを更新して
```

## 基本操作

### スクリーンショット

```
シミュレーターのスクリーンショットを撮って
```

### UI要素の確認

```
画面の要素一覧を見せて
```

### タップ操作

```
「ログイン」ボタンをタップして
```

### テキスト入力

```
メールアドレス欄に "test@example.com" を入力して
```

## ビルド&実行

Xcodeスキーム名を指定するだけで、ビルドからアプリ起動まで自動で行います:

```
MyAppスキームをビルドしてiPhone 15で起動して
```

## 次のステップ

- [テストケースの詳細](test-cases.md) - シナリオファイルの書式とアクション一覧
- [CLIでの自動実行](cli.md) - CI/CDでの利用方法
